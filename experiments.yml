#      - name: atacseq:2223941232
#        files: []
#        extra_args: ['-w atacseq:2223941232']
#      - name: chipseq-workflow_200:3793245764
#        files: []
#        extra_args: ['-w chipseq-workflow_200:3793245764']
instances:
  - repo: local
    items:
      - name: atacseq:2223941232
        files: []
        extra_args: [ '-w atacseq:2223941232' ]
      - name: atacseq-workflow_1000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_1000:2223941232' ]
      - name: atacseq-workflow_15000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_15000:2223941232' ]
      - name: atacseq-workflow_2000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_2000:2223941232' ]
      - name: atacseq-workflow_200:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_200:2223941232' ]
      - name: atacseq-workflow_4000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_4000:2223941232' ]
      - name: atacseq-workflow_8000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_8000:2223941232' ]
      - name: atacseq-workflow_10000:3908761308
        files: []
        extra_args: [ '-w atacseq-workflow_10000:3908761308' ]
      - name: atacseq-workflow_18000:3908761308
        files: []
        extra_args: [ '-w atacseq-workflow_18000:3908761308' ]
      - name: atacseq-workflow_20000:3908761308
        files: [ ]
        extra_args: [ '-w atacseq-workflow_20000:3908761308' ]
      - name: atacseq-workflow_25000:3908761308
        files: [ ]
        extra_args: [ '-w atacseq-workflow_25000:3908761308' ]
      - name: atacseq-workflow_30000:3908761308
        files: [ ]
        extra_args: [ '-w atacseq-workflow_30000:3908761308' ]
      - name: bacass:3637252230
        files: [ ]
        extra_args: [ '-w bacass:3637252230' ]
      - name: bacass:4352562006
        files: [ ]
        extra_args: [ '-w bacass:4352562006' ]
      - name: chipseq:3793245764
        files: [ ]
        extra_args: [ '-w chipseq:3793245764' ]
      - name: chipseq-workflow_10000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_10000:3793245764' ]
      - name: chipseq-workflow_1000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_1000:3793245764' ]
      - name: chipseq-workflow_15000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_15000:3793245764' ]
      - name: chipseq-workflow_18000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_18000:3793245764' ]
      - name: chipseq-workflow_20000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_20000:3793245764' ]
      - name: chipseq-workflow_2000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_2000:3793245764' ]
      - name: chipseq-workflow_200:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_200:3793245764' ]
      - name: chipseq-workflow_25000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_25000:3793245764' ]
      - name: chipseq-workflow_30000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_30000:3793245764' ]
      - name: chipseq-workflow_4000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_4000:3793245764' ]
      - name: chipseq-workflow_8000:3793245764
        files: [ ]
        extra_args: [ '-w chipseq-workflow_8000:3793245764' ]
      - name: eager:8330435694
        files: [ ]
        extra_args: [ '-w  eager:8330435694' ]
      - name: eager-workflow_10000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_10000:8330435694' ]
      - name: eager-workflow_1000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_1000:8330435694' ]
      - name: eager-workflow_15000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_15000:8330435694' ]
      - name: eager-workflow_18000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_18000:8330435694' ]
      - name: eager-workflow_20000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_20000:8330435694' ]
      - name: eager-workflow_2000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_2000:8330435694' ]
      - name: eager-workflow_200:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_200:8330435694' ]
      - name: eager-workflow_25000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_25000:8330435694' ]
      - name: eager-workflow_30000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_30000:8330435694' ]
      - name: eager-workflow_4000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_4000:8330435694' ]
      - name: eager-workflow_8000:8330435694
        files: [ ]
        extra_args: [ '-w  eager-workflow_8000:8330435694' ]
      - name: methylseq:6273818718
        files: [ ]
        extra_args: [ '-w methylseq:6273818718' ]
      - name: methylseq-workflow_10000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_10000:6273818718' ]
      - name: methylseq-workflow_1000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_1000:6273818718' ]
      - name: methylseq-workflow_15000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_15000:6273818718' ]
      - name: methylseq-workflow_18000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_18000:6273818718' ]
      - name: methylseq-workflow_20000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_20000:6273818718' ]
      - name: methylseq-workflow_2000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_2000:6273818718' ]
      - name: methylseq-workflow_200:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_200:6273818718' ]
      - name: methylseq-workflow_25000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_25000:6273818718' ]
      - name: methylseq-workflow_30000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_30000:6273818718' ]
      - name: methylseq-workflow_4000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_4000:6273818718' ]
      - name: methylseq-workflow_8000:6273818718
        files: [ ]
        extra_args: [ '-w methylseq-workflow_8000:6273818718' ]

variants:
  - axis: 'cluster-size'
    items:
      #- name: 'large'
      #  extra_args: [ '-m 4:1600:36', '-m 32:3200:36', '-m 6:6400:36', '-m 12:1600:36', '-m 8:800:36', '-m 32:19200:36' ]
      #- name: 'normal'
      #  extra_args: [ '-m 4:1600:24', '-m 32:3200:24', '-m 6:6400:24', '-m 12:1600:24', '-m 8:800:24', '-m 32:19200:24' ]
      - name: 'tenmem'
        extra_args: ['-m 4:16000:12', '-m 32:32000:12', '-m 6:64000:12', '-m 12:16000:12', '-m 8:8000:12', '-m 32:192000:12']
     # - name: 'tiny'
     #   extra_args: [ '-m 4:1600:12', '-m 32:3200:12', '-m 6:6400:12', '-m 12:1600:12', '-m 8:800:12', '-m 32:19200:12' ]
     # - name: 'short'
     #   extra_args: ['-m 4:1600:12 -m 32:3200:12 -m 6:6400:12']

experiments:
  - name: Algo1WithError
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 1',  '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
    slurm_args: [ '--exclude', 'stark[01-10]']
  - name: Algo3WithError
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 3' , '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
    slurm_args: [ '--exclude', 'stark[01-10]']
  - name: Algo5WithError
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 5', '-e'] #'@INSTANCE@',
    stdout: out
    num_threads: 24
    slurm_args: [ '--exclude', 'stark[01-10]']
  - name: Algo7WithError
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 7', '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
    slurm_args: ['--exclude', 'stark[01-10]']

matrix:
  include:
    - experiments: [Algo1WithError, Algo3WithError, Algo5WithError, Algo7WithError]
      axes: [cluster-size]