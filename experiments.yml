#      - name: atacseq:2223941232
#        files: []
#        extra_args: ['-w atacseq:2223941232']
#      - name: chipseq-workflow_200:3793245764
#        files: []
#        extra_args: ['-w chipseq-workflow_200:3793245764']
instances:
  - repo: local
    items:
      - name: atacseq:2223941232
        files: []
        extra_args: [ '-w atacseq:2223941232' ]
      - name: atacseq-workflow_10000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_10000:2223941232' ]
      - name: atacseq-workflow_1000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_1000:2223941232' ]
      - name: atacseq-workflow_15000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_15000:2223941232' ]
      - name: atacseq-workflow_18000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_18000:2223941232' ]
      - name: atacseq-workflow_20000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_20000:2223941232' ]
      - name: atacseq-workflow_2000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_2000:2223941232' ]
      - name: atacseq-workflow_200:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_200:2223941232' ]
      - name: atacseq-workflow_25000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_25000:2223941232' ]
      - name: atacseq-workflow_30000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_30000:2223941232' ]
      - name: atacseq-workflow_4000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_4000:2223941232' ]
      - name: atacseq-workflow_8000:2223941232
        files: []
        extra_args: [ '-w atacseq-workflow_8000:2223941232' ]
      - name: atacseq:3908761308
        files: []
        extra_args: [ '-w atacseq:3908761308' ]
      - name: atacseq-workflow_10000:3908761308
        files: []
        extra_args: [ '-w atacseq-workflow_10000:3908761308' ]
      - name: atacseq-workflow_1000:3908761308
        files: []
        extra_args: [ '-w atacseq-workflow_1000:3908761308' ]
      - name: atacseq-workflow_15000:3908761308
        files: []
        extra_args: [ '-w atacseq-workflow_15000:3908761308' ]

variants:
  - axis: 'cluster-size'
    items:
      - name: 'normal'
        extra_args: ['-m 4:1600:6 -m 32:3200:6 -m 6:6400:6 -m 12:1600:6 -m 8:800:6 -m 32:19200:6']
     # - name: 'short'
     #   extra_args: ['-m 4:1600:12 -m 32:3200:12 -m 6:6400:12']

experiments:
  - name: Algo1
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 1', '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
  - name: Algo3
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 3', '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
  - name: Algo5
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 5', '-e' ] #'@INSTANCE@',
    stdout: out
    num_threads: 24
  - name: Algo7
    args: [ './experiment.sh', '@EXTRA_ARGS@', '-a 7', '-e' ] #'@INSTANCE@',
    stdout: out
matrix:
  include:
    - experiments: [Algo1, Algo3, Algo5, Algo7]
      axes: [cluster-size]