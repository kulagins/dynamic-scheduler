instances:
  - repo: local
    items:
      -atacseq:2223941232
      -atacseq-workflow_1000:2223941232
      -atacseq:14091675276
      -chipseq-workflow_200:3793245764
variants:
  - axis: 'cluster-size'
    items:
      - name: 'normal'
        extra_args: ['-m 4:1600:3 -m 32:3200:3 -m 6:6400:3 -m 12:1600:3 -m 8:800:3 -m 32:19200:3']
      - name: 'short'
        extra_args: ['-m 4:1600:12 -m 32:3200:12 -m 6:6400:12']

experiments:
  - name: Algo1
    args: [ './experiments.sh', '-m gear', '-w', '@INSTANCE@', '@EXTRA_ARGS@', '-a 1', '-e' ]
    stdout: out
    num_threads: 24

  - name: Algo7
    args: [ './experiments.sh', '-m gear', '-w', '@INSTANCE@', '@EXTRA_ARGS@', '-a 7', '-e' ]
    stdout: out
matrix:
  include:
    - experiments: [Algo1, Algo7]
      axes: [normal, short]